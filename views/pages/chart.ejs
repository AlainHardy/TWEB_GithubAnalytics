<% include ../partials/header.ejs %>

<div class="card mb-3">
    <div class="card-header">
      <i class="fa fa-area-chart"></i>Commit per Month</div>
    <div class="card-body">
      <canvas id="commitPerMonth" width="100%" height="30"></canvas>
    </div>
  </div>
</div>

<script src="vendor/chart.js/Chart.min.js"></script>

<script>
//function loadChart(chartDates, chartsYValue) {
    var ctx = document.getElementById("commitPerMonth");
    var myLineChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: [<%- '"'+chartData.dates.join('","')+'"' %>],
        datasets: [{
        label: "Number of commits",
        backgroundColor: "rgba(2,117,216,1)",
        borderColor: "rgba(2,117,216,1)",
        data: [<%- chartData.nbOfCommits %>],
        }],
    },
    options: {
        scales: {
        xAxes: [{
            time: {
            unit: 'month'
            },
            gridLines: {
            display: false
            },
            ticks: {
            maxTicksLimit: 6
            }
        }],
        yAxes: [{
            ticks: {
            min: 0,
            max: <%= chartData.highestValue %>,
            maxTicksLimit: 5
            },
            gridLines: {
            display: true
            }
        }],
        },
        legend: {
        display: false
        }
    }
    });
//}

</script>


<% include ../partials/footer.ejs %>